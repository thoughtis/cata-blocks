(()=>{"use strict";const t=window.wp.compose,e=window.wp.hooks,o=window.wp.i18n,r=window.wp.components,n=window.wp.blockEditor,l=window.ReactJSXRuntime;const s=(0,t.createHigherOrderComponent)((t=>e=>{const{attributes:s,setAttributes:i,isSelected:c}=e;return a(s)?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t,{...e}),c&&(0,l.jsx)(n.InspectorControls,{group:"dimensions",children:(0,l.jsx)(r.__experimentalNumberControl,{label:(0,o.__)("Flex Grow","cata"),value:s.cataBlocksFlexGrow,min:0,onChange:t=>{i({cataBlocksFlexGrow:t})}})})]}):(0,l.jsx)(t,{...e})}),"withFlexGrowControl"),i=(0,t.createHigherOrderComponent)((t=>e=>{const{attributes:o}=e;return a(o)||(o.cataBlocksFlexGrow=null),null===o.cataBlocksFlexGrow||void 0===o.cataBlocksFlexGrow?(delete o.cataBlocksFlexGrow,(0,l.jsx)(t,{...e})):(0,l.jsx)(t,{...e,wrapperProps:{style:{flexGrow:o.cataBlocksFlexGrow}}})}),"withFlexGrowStyle");function a(t){const e=t.style;if(void 0!==e&&void 0!==e.layout&&"fixed"===e.layout.selfStretch)return!0}const c=window.wp.primitives,d=(0,l.jsx)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,l.jsx)(c.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})}),u=window.wp.element,w=window.wp.url;const p=(0,t.createHigherOrderComponent)((t=>e=>{const{attributes:s,setAttributes:i,isSelected:a,name:c}=e;if("safe-svg/svg-icon"!==c)return(0,l.jsx)(t,{...e});const{url:p,linkTarget:x}=s,[g,k]=(0,u.useState)(!1),b="_blank"===x;(0,u.useEffect)((()=>{a||k(!1)}),[a]);const v=(0,u.useMemo)((()=>({url:p,opensInNewTab:b})),[p,b]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(t,{...e}),a&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(n.BlockControls,{children:[(0,l.jsx)(r.ToolbarButton,{name:"link",icon:d,title:(0,o.__)("Link"),onClick:function(t){t.preventDefault(),k(!0)}}),g&&(0,l.jsx)(r.Popover,{placement:"bottom-start",onClose:()=>{k(!1)},children:(0,l.jsx)(r.MenuGroup,{children:(0,l.jsx)(n.__experimentalLinkControl,{value:v,onChange:({url:t,opensInNewTab:e})=>i(function({url:t="",opensInNewTab:e}){let o;return e&&(o="_blank"),{url:(0,w.prependHTTP)(t),linkTarget:o}}({url:t,opensInNewTab:e})),onRemove:()=>{i({url:void 0,linkTarget:void 0}),k(!1)}})})})]})})]})}),"withSvgUrlControl");(0,e.addFilter)("blocks.registerBlockType","cata/add-flex-grow-attribute",(function(t,e){return void 0===t.attributes||Object.assign(t.attributes,{cataBlocksFlexGrow:{type:"int"}}),t})),(0,e.addFilter)("editor.BlockEdit","cata/flex-grow-control",s),(0,e.addFilter)("editor.BlockListBlock","cata/flex-grow-editor-style",i),(0,e.addFilter)("blocks.getSaveContent.extraProps","cata/apply-flex-grow-attribute",(function(t,e,o){const{cataBlocksFlexGrow:r}=o;return a(o)&&null!=r?(Object.assign(t,{style:{...t.style,flexGrow:r}}),t):t})),(0,e.addFilter)("blocks.registerBlockType","cata/add-svg-link-color-support",(function(t,e){return"safe-svg/svg-icon"!==e||void 0===t.attributes||(Object.assign(t.supports.color,{...t.supports.color,link:!0}),console.log(t)),t})),(0,e.addFilter)("blocks.registerBlockType","cata/add-svg-url-attribute",(function(t,e){return"safe-svg/svg-icon"!==e||void 0===t.attributes||Object.assign(t.attributes,{url:{type:"string"},linkTarget:{type:"string"}}),t})),(0,e.addFilter)("editor.BlockEdit","cata/svg-url-control",p)})();