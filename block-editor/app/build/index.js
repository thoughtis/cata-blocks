(()=>{"use strict";const e=window.wp.compose,t=window.wp.hooks,o=window.wp.i18n,r=window.wp.components,l=window.wp.blockEditor,s=window.ReactJSXRuntime;const n=(0,e.createHigherOrderComponent)((e=>t=>{const{attributes:n,setAttributes:a,isSelected:i}=t;return c(n)?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e,{...t}),i&&(0,s.jsx)(l.InspectorControls,{group:"dimensions",children:(0,s.jsx)(r.__experimentalNumberControl,{label:(0,o.__)("Flex Grow","cata"),value:n.cataBlocksFlexGrow,min:0,onChange:e=>{a({cataBlocksFlexGrow:e})}})})]}):(0,s.jsx)(e,{...t})}),"withFlexGrowControl"),a=(0,e.createHigherOrderComponent)((e=>t=>{const{attributes:o}=t;return c(o)||(o.cataBlocksFlexGrow=null),null===o.cataBlocksFlexGrow||void 0===o.cataBlocksFlexGrow?(delete o.cataBlocksFlexGrow,(0,s.jsx)(e,{...t})):(0,s.jsx)(e,{...t,wrapperProps:{style:{flexGrow:o.cataBlocksFlexGrow}}})}),"withFlexGrowStyle");function c(e){const t=e.style;if(void 0!==t&&void 0!==t.layout&&"fixed"===t.layout.selfStretch)return!0}const i=(0,e.createHigherOrderComponent)((e=>t=>{const{attributes:n,setAttributes:a,isSelected:c}=t;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e,{...t}),c&&(0,s.jsx)(l.InspectorControls,{group:"color",children:(0,s.jsx)(r.SelectControl,{options:[{label:"Original",value:""},{label:"Light",value:"light only"},{label:"Dark",value:"dark only"}],label:(0,o.__)("Color Scheme","cata"),onChange:e=>{a({cataBlocksColorScheme:e})}})})]})}),"withColorSchemeControl"),d=(0,e.createHigherOrderComponent)((e=>t=>{const{attributes:o}=t;return null===o.cataBlocksColorScheme||void 0===o.cataBlocksColorScheme||""===o.cataBlocksColorScheme?(delete o.cataBlocksColorScheme,(0,s.jsx)(e,{...t})):(0,s.jsx)(e,{...t,wrapperProps:{style:{colorScheme:o.cataBlocksColorScheme}}})}),"withColorSchemeStyle");const u=window.wp.primitives,w=(0,s.jsx)(u.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,s.jsx)(u.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})}),p=window.wp.element,g=window.wp.url;const k=(0,e.createHigherOrderComponent)((e=>t=>{const{attributes:n,setAttributes:a,isSelected:c,name:i}=t;if("safe-svg/svg-icon"!==i)return(0,s.jsx)(e,{...t});const{url:d,linkTarget:u}=n,[k,h]=(0,p.useState)(!1),x="_blank"===u;(0,p.useEffect)((()=>{c||h(!1)}),[c]);const b=(0,p.useMemo)((()=>({url:d,opensInNewTab:x})),[d,x]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e,{...t}),c&&(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(l.BlockControls,{children:[(0,s.jsx)(r.ToolbarButton,{name:"link",icon:w,title:(0,o.__)("Link"),onClick:function(e){e.preventDefault(),h(!0)}}),k&&(0,s.jsx)(r.Popover,{placement:"bottom-start",onClose:()=>{h(!1)},children:(0,s.jsx)(r.MenuGroup,{children:(0,s.jsx)(l.LinkControl,{value:b,onChange:({url:e,opensInNewTab:t})=>a(function({url:e="",opensInNewTab:t}){let o;return t&&(o="_blank"),{url:(0,g.prependHTTP)(e),linkTarget:o}}({url:e,opensInNewTab:t})),onRemove:()=>{a({url:void 0,linkTarget:void 0}),h(!1)}})})})]})})]})}),"withSvgUrlControl");(0,t.addFilter)("blocks.registerBlockType","cata/add-color-scheme-attribute",(function(e,t){return void 0===e.attributes||Object.assign(e.attributes,{cataBlocksColorScheme:{type:"string"}}),e})),(0,t.addFilter)("editor.BlockEdit","cata/color-scheme-control",i),(0,t.addFilter)("editor.BlockListBlock","cata/color-scheme-editor-style",d),(0,t.addFilter)("blocks.getSaveContent.extraProps","cata/apply-color-scheme-attribute",(function(e,t,o){const{cataBlocksColorScheme:r}=o;return null==r||""===r||Object.assign(e,{style:{...e.style,colorScheme:r}}),e})),(0,t.addFilter)("blocks.registerBlockType","cata/add-flex-grow-attribute",(function(e,t){return void 0===e.attributes||Object.assign(e.attributes,{cataBlocksFlexGrow:{type:"int"}}),e})),(0,t.addFilter)("editor.BlockEdit","cata/flex-grow-control",n),(0,t.addFilter)("editor.BlockListBlock","cata/flex-grow-editor-style",a),(0,t.addFilter)("blocks.getSaveContent.extraProps","cata/apply-flex-grow-attribute",(function(e,t,o){const{cataBlocksFlexGrow:r}=o;return c(o)&&null!=r?(Object.assign(e,{style:{...e.style,flexGrow:r}}),e):e})),(0,t.addFilter)("blocks.registerBlockType","cata/add-svg-link-color-support",(function(e,t){return"safe-svg/svg-icon"!==t||void 0===e.attributes||Object.assign(e.supports.color,{...e.supports.color,link:!0}),e})),(0,t.addFilter)("blocks.registerBlockType","cata/add-svg-url-attribute",(function(e,t){return"safe-svg/svg-icon"!==t||void 0===e.attributes||Object.assign(e.attributes,{url:{type:"string"},linkTarget:{type:"string"}}),e})),(0,t.addFilter)("editor.BlockEdit","cata/svg-url-control",k)})();