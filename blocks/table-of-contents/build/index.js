!function(){"use strict";var e=window.wp.blocks,t=window.wp.element,l=window.wp.blockEditor,a=window.wp.components;function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var l=arguments[t];for(var a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a])}return e},n.apply(this,arguments)}(0,e.registerBlockType)("cata/toc",{edit:function(n){let{attributes:o,setAttributes:r,clientId:c,onReplace:i,mergeBlocks:s}=n;return(0,t.createElement)(t.Fragment,null,(0,t.createElement)("div",(0,l.useBlockProps)(),(0,t.createElement)(l.RichText,{placeholder:"Add a label to the Table of Contents",allowedFormats:["core/bold","core/italic"],tagName:"div",value:(null==o?void 0:o.summary)||"Table of Contents",onChange:e=>{r({summary:e})},onReplace:i,onMerge:s,onSplit:(t,l)=>l||t?(0,e.createBlock)("cata/toc",{...o,summary:t,clientId:l?c:null}):(0,e.createBlock)((0,e.getDefaultBlockName)())}),(0,t.createElement)("ul",null,(0,t.createElement)("li",null,(0,t.createElement)("a",null,"Links will be generated in the live content")))),(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(a.PanelBody,{title:"Table of Contents Settings",initialOpen:!1},(0,t.createElement)(a.__experimentalToggleGroupControl,{onChange:e=>{r({behavior:e})},label:"Open/Close Behavior",value:o.behavior,isBlock:!0},(0,t.createElement)(a.__experimentalToggleGroupControlOption,{value:"alwaysOpen",label:"Always Open"}),(0,t.createElement)(a.__experimentalToggleGroupControlOption,{value:"startOpen",label:"Start Open"}),(0,t.createElement)(a.__experimentalToggleGroupControlOption,{value:"startClosed",label:"Start Closed"})))))},save:function(e){let{attributes:a}=e;const o="alwaysOpen"===a.behavior?"div":"details";return(0,t.createElement)("div",n({},l.useBlockProps.save(),{id:"toc-entry-point"}),(0,t.createElement)(o,{open:"startClosed"===a.behavior?null:"true"},(0,t.createElement)(l.RichText.Content,{tagName:"alwaysOpen"===a.behavior?"p":"summary",value:a.summary||"Table of Contents",className:"wp-block-cata-toc__summary"})))},merge:(e,t)=>({summary:(e.summary||"")+(t.summary||"")})})}();