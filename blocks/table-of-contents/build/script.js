!function(){function e(){const e=document.createElement("summary");return e.textContent="Table of Contents",e}function t(e){const t=document.createElement("ul");return t.append(...e),t}function n(e){return t=>{const n=document.createElement("li"),r=function(e,t){return d(e)?new RegExp(e,"mi").exec(t):""}(e,t.textContent);return r&&(t.textContent=t.textContent.replace(r,""),n.append(document.createTextNode(r))),n.prepend(t),n}}function r(e){const t=document.createElement("a");return t.href="#"+e.id,t.textContent=e.textContent,t}function o(e){return d(e.id)&&d(e.textContent)}function c(e){return{...e,textContent:e.heading.hasChildNodes?(t=e.heading,u(t.childNodes).flat().join(" ").replace(/\s+/g," ")):""};var t}function a(e){return{...e,id:(n=e.heading.id,r=e.textContent,d(n)?n:(t=r,t.toLowerCase().replace(/[^a-z0-9\-]/g,"-").replace(/-+/g,"-").replace(/-$/,"").substring(0,64)))};var t,n,r}function u(e){return[...e].map((e=>e.hasChildNodes()?u(e.childNodes):e.textContent))}function d(e){return"string"==typeof e&&0<e.length}document.querySelectorAll(".wp-block-cata-toc").forEach((function(u){var i,l;const p=(s=function(e){return null===e?null:e.closest(".wp-site-blocks,.entry__content")}(u),null===s?[]:[...s.querySelectorAll("h2")]);var s;if(0===p.length)return u.parentNode.removeChild(u);const m=null!==(i=u.dataset)&&void 0!==i&&i.regexPattern?u.dataset.regexPattern:"",f=null!==(l=u.dataset)&&void 0!==l&&l.regexAppend?u.dataset.regexAppend:"",h=p.map((e=>({heading:e}))).map(c).map(function(e){return d(e)?t=>{const n=new RegExp(e,"mi").exec(t.textContent);return Array.isArray(n)?{...t,textContent:n.pop()}:t}:e=>e}(m)).map(a).filter(o);if(0===h.length)return;h.forEach((e=>{d(e.heading.id)||(e.heading.id=e.id)}));!function(t,n){const r=t.firstElementChild;null!==r?r.append(n):t.append(function(e){const t=document.createElement("details");return t.setAttribute("open","open"),t.append(...e),t}([e(),n]))}(u,function(e){const t=document.createElement("nav");return t.append(...e),t}([t(h.map(r).map(n(f)))]))})),document.dispatchEvent(new CustomEvent("tocBlocksRendered"))}();