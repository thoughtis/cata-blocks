!function(){function e(){const e=document.createElement("summary");return e.textContent="Table of Contents",e}function t(e){const t=document.createElement("ul");return t.append(...e),t}function n(e){const t=document.createElement("a");return t.href="#"+e.id,t.textContent=e.textContent,t}function r(e){return u(e.id)&&u(e.textContent)}function o(e){return{...e,textContent:e.heading.hasChildNodes?(t=e.heading,c(t.childNodes).flat().join(" ").replace(/\s+/g," ")):""};var t}function a(e){return{...e,id:(n=e.heading.id,r=e.textContent,u(n)?n:(t=r,t.toLowerCase().replace(/[^a-z0-9\-]/g,"-").replace(/-+/g,"-").replace(/-$/,"").substring(0,64)))};var t,n,r}function c(e){return[...e].map((e=>e.hasChildNodes()?c(e.childNodes):e.textContent))}function u(e){return"string"==typeof e&&0<e.length}document.querySelectorAll(".wp-block-cata-toc").forEach((function(c){var d,i;const l=(p=function(e){return null===e?null:e.closest(".wp-site-blocks,.entry__content")}(c),null===p?[]:[...p.querySelectorAll("h2")]);var p;if(0===l.length)return c.parentNode.removeChild(c);const s=null!==(d=c.dataset)&&void 0!==d&&d.regexPattern?c.dataset.regexPattern:"",m=null!==(i=c.dataset)&&void 0!==i&&i.regexAppend?c.dataset.regexAppend:"",f=l.map((e=>({heading:e}))).map(o).map(function(e){return u(e)?t=>{const n=new RegExp(e,"mi").exec(t.textContent);return Array.isArray(n)?{...t,textContent:n.pop()}:t}:e=>e}(s)).map(a).filter(r);if(0===f.length)return;f.forEach((e=>{u(e.heading.id)||(e.heading.id=e.id)})),renderData=f.map(n).map(function(e){return t=>{const n=document.createElement("li");let r="";return u(e)&&(r=new RegExp(e,"mi").exec(t.textContent)),r&&(t.textContent=t.textContent.replace(r,""),n.append(document.createTextNode(r))),n.prepend(t),n}}(m));!function(t,n){const r=t.querySelector("details");null!==r?r.append(n):t.append(function(e){const t=document.createElement("details");return t.setAttribute("open","open"),t.append(...e),t}([e(),n]))}(c,function(e){const t=document.createElement("nav");return t.append(...e),t}([t(renderData)]))}))}();