!function(){const e=new CustomEvent("tocBlocksRendered");function t(){const e=document.createElement("summary");return e.textContent="Table of Contents",e}function n(e){const t=document.createElement("ul");return t.append(...e),t}function r(e){return t=>{const n=document.createElement("li"),r=function(e,t){return i(e)?new RegExp(e,"mi").exec(t):""}(e,t.textContent);return r&&(t.textContent=t.textContent.replace(r,""),n.append(document.createTextNode(r))),n.prepend(t),n}}function o(e){const t=document.createElement("a");return t.href="#"+e.id,t.textContent=e.textContent,t}function c(e){return i(e.id)&&i(e.textContent)}function a(e){return{...e,textContent:e.heading.hasChildNodes?(t=e.heading,d(t.childNodes).flat().join(" ").replace(/\s+/g," ")):""};var t}function u(e){return{...e,id:(n=e.heading.id,r=e.textContent,i(n)?n:(t=r,t.toLowerCase().replace(/[^a-z0-9\-]/g,"-").replace(/-+/g,"-").replace(/-$/,"").substring(0,64)))};var t,n,r}function d(e){return[...e].map((e=>e.hasChildNodes()?d(e.childNodes):e.textContent))}function i(e){return"string"==typeof e&&0<e.length}document.querySelectorAll(".wp-block-cata-toc").forEach((function(e){var d,l;const p=(s=function(e){return null===e?null:e.closest(".wp-site-blocks,.entry__content")}(e),null===s?[]:[...s.querySelectorAll("h2")]);var s;if(0===p.length)return e.parentNode.removeChild(e);const m=null!==(d=e.dataset)&&void 0!==d&&d.regexPattern?e.dataset.regexPattern:"",f=null!==(l=e.dataset)&&void 0!==l&&l.regexAppend?e.dataset.regexAppend:"",h=p.map((e=>({heading:e}))).map(a).map(function(e){return i(e)?t=>{const n=new RegExp(e,"mi").exec(t.textContent);return Array.isArray(n)?{...t,textContent:n.pop()}:t}:e=>e}(m)).map(u).filter(c);if(0===h.length)return;h.forEach((e=>{i(e.heading.id)||(e.heading.id=e.id)}));!function(e,n){const r=e.firstElementChild;null!==r?r.append(n):e.append(function(e){const t=document.createElement("details");return t.setAttribute("open","open"),t.append(...e),t}([t(),n]))}(e,function(e){const t=document.createElement("nav");return t.append(...e),t}([n(h.map(o).map(r(f)))]))})),document.dispatchEvent(e)}();