!function(){function e(){const e=document.createElement("summary");return e.textContent="Table of Contents",e}function t(e){const t=document.createElement("ul");return t.append(...e),t}function n(e){const t=document.createElement("li");return t.appendChild(e),t}function r(e){const t=document.createElement("a");return t.href="#"+e.id,t.textContent=e.textContent,t}function o(e){return i(e.id)&&i(e.textContent)}function a(e){return{...e,textContent:e.heading.hasChildNodes?(t=e.heading,u(t.childNodes).flat().join(" ").replace(/\s+/g," ")):""};var t}function c(e){return{...e,id:(n=e.heading.id,r=e.textContent,i(n)?n:(t=r,t.toLowerCase().replace(/[^a-z0-9\-]/g,"-").replace(/-+/g,"-").replace(/-$/,"").substring(0,64)))};var t,n,r}function u(e){return[...e].map((e=>e.hasChildNodes()?u(e.childNodes):e.textContent))}function i(e){return"string"==typeof e&&0<e.length}document.querySelectorAll(".wp-block-cata-toc").forEach((function(u){var l;const d=(s=function(e){return null===e?null:e.closest(".wp-site-blocks,.entry__content")}(u),null===s?[]:[...s.querySelectorAll("h2")]);var s;if(0===d.length)return u.parentNode.removeChild(u);const p=null!==(l=u.dataset)&&void 0!==l&&l.regexPattern?u.dataset.regexPattern:"",f=d.map((e=>({heading:e}))).map(a).map(function(e){return i(e)?t=>{const n=new RegExp(e,"mi").exec(t.textContent);return Array.isArray(n)?{...t,textContent:n.pop()}:t}:e=>e}(p)).map(c).filter(o);if(0===f.length)return;f.forEach((e=>{i(e.heading.id)||(e.heading.id=e.id)}));!function(t,n){const r=t.querySelector("details");null!==r?r.append(n):t.append(function(e){const t=document.createElement("details");return t.setAttribute("open","open"),t.append(...e),t}([e(),n]))}(u,function(e){const t=document.createElement("nav");return t.append(...e),t}([t(f.map(r).map(n))]))}))}();