!function(){var e,r={605:function(e,r,t){"use strict";var a=window.wp.blocks,n=window.wp.element,l=window.wp.i18n,o=window.wp.blockEditor,c=window.wp.components,i=window.wp.apiFetch,p=t.n(i),s=window.wp.primitives,u=(0,n.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(s.Path,{fillRule:"evenodd",d:"M19.75 11H21V8.667L19.875 4H4.125L3 8.667V11h1.25v8.75h15.5V11zm-1.5 0H5.75v7.25H10V13h4v5.25h4.25V11zm-5.5-5.5h2.067l.486 3.24.028.76H12.75v-4zm-3.567 0h2.067v4H8.669l.028-.76.486-3.24zm7.615 3.1l-.464-3.1h2.36l.806 3.345V9.5h-2.668l-.034-.9zM7.666 5.5h-2.36L4.5 8.845V9.5h2.668l.034-.9.464-3.1z",clipRule:"evenodd"}));t(779),(0,a.registerBlockType)("cata/shop",{edit:function(e){const r={...(0,o.useBlockProps)()},{attributes:t,setAttributes:a}=e,i=t.shopCatalogApiUrlBase+"?category="+t.category+"&per_page="+t.per_page+"&orderby="+t.orderby+"&order="+t.order,s=(0,n.useRef)(),[m,d]=(0,n.useState)(null),g=new AbortController;return(0,n.createElement)("div",r,!m&&(0,n.createElement)("p",{className:"wp-block-cata-products__placeholder"},(0,l.__)("Shop Catalog Merch will go here!","cata")),m&&!m.error&&(0,n.createElement)("div",{className:"wp-block-cata-products alignwide"},(0,n.createElement)("div",{className:"wp-block-cata-products__layout"},m.map((e=>(0,n.createElement)("article",{className:"wp-block-cata-product"},(0,n.createElement)("div",{className:"wp-block-cata-product__layout tappable-card"},(0,n.createElement)("figure",{className:"wp-block-cata-product__image"},(0,n.createElement)("img",{loading:"lazy",src:e.images[0].src,alt:e.images[0].alt,sizes:"(max-width: 576px) 92.5vw, 576px",srcset:e.images[0].src+"?resize=384,384 384w, "+e.images[0].src+"?resize=768,768 768w, "+e.images[0].src+"?resize=1152,1152 1152w",width:"384",height:"384"})),(0,n.createElement)("h3",{className:"wp-block-cata-product__title"},(0,n.createElement)("a",{className:"wp-block-cata-product__link tappable-card-anchor",href:e.permalink},e.name)),(0,n.createElement)("div",{className:"wp-block-cata-product__byline"},e.cap_guest_authors.length>0&&"by "+e.cap_guest_authors.reduce(((e,r,t,a)=>{const n=a.length-1===t?"":", ";return e+r.display_name+n}),""),!e.cap_guest_authors.length>0&&e.brands.length>0&&"from "+e.brands.reduce(((e,r,t,a)=>{const n=a.length-1===t?"":", ";return e+r.name+n}),"")),(0,n.createElement)("div",{className:"wp-block-cata-product__price"},e.on_sale&&e.regular_price&&e.sale_price&&(0,n.createElement)("del",null,(0,n.createElement)("span",null,(0,n.createElement)("span",null,"$"),e.regular_price))&&(0,n.createElement)("ins",null,(0,n.createElement)("span",null,(0,n.createElement)("span",null,"$"),e.sale_price)),e.price&&e.regular_price&&!e.on_sale&&e.price!==e.regular_price&&(0,n.createElement)("span",null,(0,n.createElement)("span",null,"$"),e.price)&&(0,n.createElement)("span",null,(0,n.createElement)("span",null,"$"),e.regular_price),e.price&&e.regular_price&&!e.on_sale&&e.price===e.regular_price&&(0,n.createElement)("span",null,(0,n.createElement)("span",null,"$"),e.regular_price)))))))),m&&m.error&&(0,n.createElement)("div",null,m.errorMsg),(0,n.createElement)(o.InspectorControls,null,(0,n.createElement)(c.PanelBody,{title:"Product API URL",icon:u,initialOpen:!1},(0,n.createElement)(c.TextControl,{label:"SC API Product Category",onChange:e=>a({category:e}),type:"text",value:t.category,help:"Shop Catalog API Product Category. Creepy Products: 1752"}),(0,n.createElement)(c.TextControl,{label:"SC API Product Quantity",onChange:e=>a({per_page:e}),type:"text",value:t.per_page,help:"Quantity of Shop Catalog products to be returned from the API."}),(0,n.createElement)(c.Button,{onClick:()=>{p().use(((e,r)=>r(e))),(s.current=p()({url:"/wp-json/cata/v1/proxy/?url="+encodeURIComponent(i),signal:g.signal})).then((e=>{e&&(d(e),a({query_url:i}))})).catch((e=>{d({error:!0,errorMsg:e.message})}))}},"FETCH"),(0,n.createElement)(c.Button,{onClick:()=>{g.abort()}},"ABORT"))))}})},779:function(e,r){var t;!function(){"use strict";var a={}.hasOwnProperty;function n(){for(var e=[],r=0;r<arguments.length;r++){var t=arguments[r];if(t){var l=typeof t;if("string"===l||"number"===l)e.push(t);else if(Array.isArray(t)){if(t.length){var o=n.apply(null,t);o&&e.push(o)}}else if("object"===l)if(t.toString===Object.prototype.toString)for(var c in t)a.call(t,c)&&t[c]&&e.push(c);else e.push(t.toString())}}return e.join(" ")}e.exports?(n.default=n,e.exports=n):void 0===(t=function(){return n}.apply(r,[]))||(e.exports=t)}()}},t={};function a(e){var n=t[e];if(void 0!==n)return n.exports;var l=t[e]={exports:{}};return r[e](l,l.exports,a),l.exports}a.m=r,e=[],a.O=function(r,t,n,l){if(!t){var o=1/0;for(s=0;s<e.length;s++){t=e[s][0],n=e[s][1],l=e[s][2];for(var c=!0,i=0;i<t.length;i++)(!1&l||o>=l)&&Object.keys(a.O).every((function(e){return a.O[e](t[i])}))?t.splice(i--,1):(c=!1,l<o&&(o=l));if(c){e.splice(s--,1);var p=n();void 0!==p&&(r=p)}}return r}l=l||0;for(var s=e.length;s>0&&e[s-1][2]>l;s--)e[s]=e[s-1];e[s]=[t,n,l]},a.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(r,{a:r}),r},a.d=function(e,r){for(var t in r)a.o(r,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},a.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},function(){var e={826:0,431:0};a.O.j=function(r){return 0===e[r]};var r=function(r,t){var n,l,o=t[0],c=t[1],i=t[2],p=0;if(o.some((function(r){return 0!==e[r]}))){for(n in c)a.o(c,n)&&(a.m[n]=c[n]);if(i)var s=i(a)}for(r&&r(t);p<o.length;p++)l=o[p],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(s)},t=self.webpackChunk=self.webpackChunk||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))}();var n=a.O(void 0,[431],(function(){return a(605)}));n=a.O(n)}();